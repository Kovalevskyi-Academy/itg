{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "http://example.com/story.json#",
  "title": "JSON schema for story",
  "type": "object",
  "required": [
    "storyId",
    "storyTitle",
    "storyDescription"
  ],
  "properties": {
    "storyUuid": {
      "description": "Autogenerated unique uuid of each story.",
      "$ref": "uuid.json",
      "example": "065d9e05-d5a9-4173-9161-60009607e2c1"
    },
    "storyTitle": {
      "description": "The name of the story given by the author.",
      "type": "string",
      "minLength": 1,
      "maxLength": 500,
      "pattern": "^(.*)$",
      "example": "The journey of an elephant to the ass of a cockroach."
    },
    "storyDescription": {
      "description": "Description of the essence of the story.",
      "type": "string",
      "minLength": 20,
      "maxLength": 3000,
      "pattern": "^(.*)$",
      "example": "Life pushes the baby elephant to incredible deeds that will lead him to an incredible goal through fantastic transformations."
    },
    "startingNodeUuid": {
      "description": "The first node in the story.",
      "$ref": "uuid.json",
      "default": ""
    },
    "metadata": {
      "description": "Metadata about current story.",
      "$ref": "#/$defs/metadata"
    }
  },
  "$defs": {
    "metadata": {
      "description": "It is a record about current story.",
      "required": [
        "storyAuthor",
        "genre",
        "storySeriesIdentifier"
      ],
      "properties": {
        "storyAuthor": {
          "description": "Who made this story?",
          "type": "string",
          "minLength": 1,
          "maxLength": 300,
          "pattern": "^(.*)$",
          "example": "seralekseenko"
        },
        "genre": {
          "description": "I think to give free rein to the authors to write any genres and not limit them to listing existing genres. https://en.wikipedia.org/wiki/List_of_genres",
          "type": "string",
          "pattern": "^(.*)$",
          "example": "fantastic tragedy"
        },
        "productionDateTime": {
          "description": "When the story was produced?",
          "$ref": "date-time.json"
        },
        "updatingDateTime": {
          "description": "When the story was updated?",
          "$ref": "date-time.json"
        },
        "storySeriesIdentifier": {
          "description": "What set of stories does this story belong to?",
          "type": "string",
          "minLength": 1,
          "default": "Undefined series",
          "pattern": "^(.*)$",
          "example": "Testing stories"
        },
        "tags": {
          "description": "Any tags about this story.",
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 2,
            "example": "#trololo"
          },
          "minItems": 0,
          "uniqueItems": true
        }
      }
    }
  }
}
